--- a/net/minecraft/server/DedicatedServerSettings.java
+++ b/net/minecraft/server/DedicatedServerSettings.java
@@ -2,14 +2,21 @@
 
 import java.util.function.UnaryOperator;
 
+// CraftBukkit start
+import java.io.File;
+import joptsimple.OptionSet;
+// CraftBukkit end
+
 public class DedicatedServerSettings {
 
     private final java.nio.file.Path path;
     private DedicatedServerProperties properties;
 
-    public DedicatedServerSettings(IRegistryCustom iregistrycustom, java.nio.file.Path java_nio_file_path) {
-        this.path = java_nio_file_path;
-        this.properties = DedicatedServerProperties.load(iregistrycustom, java_nio_file_path);
+    // CraftBukkit start
+    public DedicatedServerSettings(IRegistryCustom iregistrycustom, OptionSet optionset) {
+        this.path = ((File) optionset.valueOf("config")).toPath();
+        this.properties = DedicatedServerProperties.load(iregistrycustom, path, optionset);
+        // CraftBukkit end
     }
 
     public DedicatedServerProperties getProperties() {
